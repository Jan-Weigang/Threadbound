<div class="layout-footer">
    <div class="footer-left">
        {% if is_authenticated %}
            <form action="{{ url_for('logout') }}" method="GET">
                <button id="logoutButton" type="submit">Logout</button>
            </form>
        {% else %}
            <form action="{{ url_for('login') }}" method="GET">
                <button id="loginButton" type="submit">Login</button>
            </form>
        {% endif %}
    </div>


    <!-- Left Section -->
    <div class="footer-center">
        <button class="layout-picker-button" data-layout="day">
            <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="2" width="16" height="4" fill="grey" />
                <rect x="2" y="8" width="16" height="4" fill="grey" />
                <rect x="2" y="14" width="16" height="4" fill="grey" />
            </svg>
        </button>

        <button class="layout-picker-button" data-layout="mixed">
            <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg">
                <!-- Top row with a button -->
                <rect x="2" y="2" width="4" height="4" fill="black" />
                <rect x="8" y="2" width="4" height="4" fill="black" />
                <rect x="14" y="2" width="4" height="4" fill="black" />
                <!-- Horizontal lines in the lower half -->
                <rect x="2" y="8" width="16" height="4" fill="grey" />
                <rect x="2" y="14" width="16" height="4" fill="grey" />
            </svg>
        </button>
        
        <button class="layout-picker-button" data-layout="month">
            <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="2" width="4" height="4" fill="black" />
                <rect x="8" y="2" width="4" height="4" fill="black" />
                <rect x="14" y="2" width="4" height="4" fill="black" />
                <rect x="2" y="8" width="4" height="4" fill="black" />
                <rect x="8" y="8" width="4" height="4" fill="black" />
                <rect x="14" y="8" width="4" height="4" fill="black" />
                <rect x="2" y="14" width="4" height="4" fill="black" />
                <rect x="8" y="14" width="4" height="4" fill="black" />
                <rect x="14" y="14" width="4" height="4" fill="black" />
            </svg>
        </button>
    </div>


    <!-- Right Section with Info Display -->
    <div class="footer-right">
        <span id="info-display" style="font-style: italic; color: #999999;">
            Hover over items for more info
        </span>
    </div>
</div>

<!-- Inline JavaScript for hover behavior -->
<script>
    // Observe changes in the document to add hover events dynamically
    document.addEventListener('DOMContentLoaded', function() {
        initialize_hover();
    });

    function initialize_hover() {
        const infoDisplay = document.getElementById('info-display');
    
        function addHoverListeners(element) {
            element.addEventListener('mouseenter', () => {
                infoDisplay.style.visibility = 'visible';
            });
            element.addEventListener('mousemove', () => {
                infoDisplay.textContent = element.getAttribute('data-hover-info');
            });
            element.addEventListener('mouseleave', () => {
                infoDisplay.style.visibility = 'hidden';
            });

            element.addEventListener('touchstart', () => {
                infoDisplay.style.visibility = 'visible';
            });
            element.addEventListener('touchmove', () => {
                infoDisplay.textContent = element.getAttribute('data-hover-info');
            });
            element.addEventListener('touchend', () => {
                infoDisplay.style.visibility = 'hidden';
            });
        }
    
        // Initialize hover listeners on existing elements
        document.querySelectorAll('[data-hover-info]').forEach(addHoverListeners);
    
        // Use MutationObserver to watch for dynamically added elements
        const observer = new MutationObserver(mutations => {
            mutations.forEach(mutation => {
                mutation.addedNodes.forEach(node => {
                    if (node.nodeType === Node.ELEMENT_NODE && node.hasAttribute('data-hover-info')) {
                        addHoverListeners(node); // Add hover listener for new elements
                    }
                });
            });
        });
    
        observer.observe(document.body, { childList: true, subtree: true });
    }
</script>

